/* ======================== css/Painel.css (refatorado) ======================== */
/* ---- Tema ------------------------------------------------------------------- */
:root{
  /* Base (escuro suave) */
  --bg:#0f1524;
  --bg-soft:#121a2b;
  --panel:#0e1628;
  --panel-soft:#141d31;

  /* Tipografia */
  --ink:#e8ecf4;
  --ink-muted:#b6c0d4;
  --ink-dim:#8d98ad;

  /* Acentos discretos */
  --accent:#7fb2ff;
  --accent-strong:#6aa3fb;
  --accent-line:#2a3448;

  /* Estados */
  --success:#48c58a;
  --danger:#ef6a6a;

  /* Contorno/Sombra */
  --line:#2b3550;
  --shadow-1:0 6px 16px rgba(0,0,0,.25);
  --shadow-2:0 10px 24px rgba(0,0,0,.28);

  /* Raio/FAB */
  --radius:12px;
  --radius-sm:8px;
  --fab-size:56px;
}

/* ---- Reset/Base -------------------------------------------------------------- */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", "Noto Sans", sans-serif;
  background:var(--bg); color:var(--ink); line-height:1.45;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* ---- Layout ------------------------------------------------------------------ */
.dashboard{display:flex;min-height:100vh;background:var(--bg)}

/* ---- Sidebar ----------------------------------------------------------------- */
.sidebar-modern{
  width:220px;background:var(--panel);padding:16px 14px;border-right:1px solid var(--line);
  display:flex;flex-direction:column;align-items:center;gap:16px;
}
.sidebar-modern .brand{color:var(--accent);font-weight:800;font-size:1.1rem;letter-spacing:.2px}
.sidebar-modern .pills{width:100%;display:flex;flex-direction:column;gap:10px}

.pill{
  width:100%;height:48px;background:var(--panel-soft);color:var(--ink-muted);
  border:1px solid rgba(255,255,255,.04);border-radius:var(--radius);
  display:flex;align-items:center;gap:12px;padding:0 14px;transition:.2s ease;
}
.pill svg,.pill .pill-icon{fill:currentColor}
.pill span{font-size:.95rem}
.pill:hover{color:var(--accent);border-color:var(--accent-line);background:#17223a}
.pill.active{color:var(--accent);border-color:var(--accent-line);background:#18243d}
.pill-dskey{background:#16213a}

.logout-btn{
  margin-top:auto;width:100%;height:42px;background:transparent;color:var(--accent);
  border:1px solid var(--accent-line);border-radius:var(--radius-sm);cursor:pointer;transition:.2s ease;
}
.logout-btn:hover{background:#17223a;border-color:var(--accent)}

/* ---- Topbar/Main ------------------------------------------------------------- */
.main-content{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;background:var(--bg)}
.topbar{
  background:var(--panel);padding:10px 20px;border-bottom:1px solid var(--line);
  margin:-20px -20px 20px -20px;
}
.topbar h2{color:var(--accent);font-size:1.25rem;font-weight:700}

/* ---- Seções ------------------------------------------------------------------ */
.content-section{display:none;animation:fadeIn .35s}
.content-section.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}

/* ---- Dashboard TVs ------------------------------------------------------------ */
.tvs-layout{display:flex;gap:20px}
.tvs-layout .floor-list{width:240px;display:flex;flex-direction:column;gap:10px}
.tvs-layout .content-grid{flex:1;display:flex;flex-direction:column}
.content-grid-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.content-grid h3{color:var(--accent);font-size:1rem}
.grid-actions{display:flex;gap:10px}

.floor-item{margin-bottom:6px}
.floor-btn{
  width:100%;padding:10px;background:var(--panel);color:#d8deea;border:1px solid var(--line);
  border-radius:var(--radius-sm);cursor:pointer;font-size:15px;text-align:left;transition:.2s ease;
  display:flex;justify-content:space-between;align-items:center;
}
.floor-btn:hover,.floor-btn.active{background:#1a253d;border-color:var(--accent-line)}
.floor-btn span{flex:1}
.floor-actions{display:flex;gap:6px;margin-left:auto;opacity:0;visibility:hidden;transition:.18s}
.floor-btn:hover .floor-actions,.floor-btn.show-actions .floor-actions{opacity:1;visibility:visible}

.action-btn{
  background:none;border:0;cursor:pointer;width:24px;height:24px;border-radius:50%;
  color:var(--ink-muted);transition:.18s;
}
.action-btn:hover{background:rgba(255,255,255,.06);color:var(--ink)}
.delete-btn:hover{background:rgba(239,106,106,.14);color:var(--danger)}

.select-categories-btn,.add-tv-btn{
  padding:10px;background:transparent;color:var(--accent);
  border:1px solid var(--accent-line);border-radius:var(--radius-sm);cursor:pointer;font-size:14px;transition:.18s;margin-top:10px;
}
.select-categories-btn:hover,.add-tv-btn:hover{border-color:var(--accent);background:#17223a}

/* Grid TVs */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
.grid-item{
  background:var(--panel);height:150px;border-radius:var(--radius-sm);border:1px solid var(--line);
  position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;
  padding:14px;transition:.2s ease;box-shadow:var(--shadow-1);
}
.grid-item:hover{transform:translateY(-2px);box-shadow:var(--shadow-2)}
.grid-item.offline{opacity:.7;border-color:rgba(239,106,106,.5)}
.grid-item span{font-size:16px;color:#eef1f7;margin-bottom:4px}
.grid-item small{font-size:12px;color:var(--ink-dim)}
.tv-status{position:absolute;top:6px;right:6px;font-size:11px;background:rgba(0,0,0,.35);padding:2px 6px;border-radius:6px;color:var(--success)}
.offline .tv-status{color:var(--danger)}
.activation-badge{position:absolute;top:6px;left:6px;background:var(--success);color:#0b1426;font-size:10px;padding:2px 6px;border-radius:6px}
.tv-actions{position:absolute;bottom:8px;right:8px;display:flex;gap:6px}
.tv-action-btn{
  background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);border-radius:50%;
  width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.18s;
}
.tv-action-btn:hover{background:#22314f;border-color:var(--accent)}

/* Estado vazio */
.no-items{grid-column:1/-1;text-align:center;padding:20px;color:var(--ink-dim)}

/* ---- MODAIS (centralização robusta) ------------------------------------------- */
/* O overlay pode abrir com display:block OU display:flex; ambos funcionam */
.modal{
  position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,.55);
  display:none; /* escondido por padrão */
}
/* classe utilitária para abrir via JS: .open */
.modal.open{display:block;opacity:1}
.modal[hidden], .modal.is-hidden{display:none}

/* Conteúdo sempre centralizado, independente do display do pai */
.modal .modal-content{
  position:fixed;               /* tira do fluxo e permite centrar de forma absoluta */
  top:50%;left:50%;transform:translate(-50%,-50%);
  width:min(600px,92vw);max-height:88vh;overflow:auto;
  background:var(--panel);color:var(--ink);border:1px solid var(--line);
  border-radius:var(--radius);padding:18px;box-shadow:var(--shadow-2);
}
.close-btn{
  position:absolute;top:8px;right:12px;color:var(--ink-dim);
  font-size:22px;background:transparent;border:0;cursor:pointer;
}
.close-btn:hover{color:var(--ink)}

/* ---- Botões ------------------------------------------------------------------- */
.btn{
  background:var(--accent);color:#0b1426;border:0;padding:10px 14px;border-radius:var(--radius-sm);
  cursor:pointer;font-weight:700;transition:.18s;margin-top:10px;
}
.btn:hover{background:var(--accent-strong)}
.btn-secondary{
  background:transparent;color:var(--accent);border:1px solid var(--accent-line);
  margin-top:6px;border-radius:var(--radius-sm);padding:8px 12px;transition:.18s;
}
.btn-secondary:hover{border-color:var(--accent);background:#17223a}

/* ---- Formulários --------------------------------------------------------------- */
.form-group{margin-bottom:14px}
.form-group label{display:block;margin-bottom:6px;color:var(--ink)}
.form-group input,.form-group select,.form-group textarea{
  width:100%;padding:10px;background:var(--bg-soft);border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius-sm);color:var(--ink);
}
.form-group textarea{min-height:100px;resize:vertical}
.device-info-value{
  background:var(--panel);padding:10px;border-radius:var(--radius-sm);
  border:1px solid var(--line);margin-top:6px;word-break:break-all;
}

/* ---- Visualização de mídia ----------------------------------------------------- */
#media-container{text-align:center;margin:18px 0}
#media-container img,#media-container video{max-width:100%;max-height:420px;border-radius:var(--radius-sm)}

/* ---- Upload / Progresso -------------------------------------------------------- */
.upload-progress{margin-top:10px;width:100%;background:#0f182b;border-radius:6px;overflow:hidden;height:8px}
.progress-bar{height:100%;background:var(--accent);width:0%;transition:width .25s}

/* ---- FAB ----------------------------------------------------------------------- */
.fab-container{position:fixed;right:20px;bottom:calc(20px + 44px);z-index:1002}
.fab-main{
  width:var(--fab-size);height:var(--fab-size);border-radius:50%;
  background:linear-gradient(135deg,#0f172a,#15213a);border:1px solid var(--accent-line);
  color:var(--accent);display:flex;align-items:center;justify-content:center;cursor:pointer;
  box-shadow:var(--shadow-1);transition:.2s ease;
}
.fab-main:hover{transform:scale(1.04);border-color:var(--accent)}
.fab-menu{
  position:absolute;right:0;bottom:calc(var(--fab-size) + 12px);
  display:flex;flex-direction:column;gap:8px;transform:translateY(8px);opacity:0;visibility:hidden;transition:.2s ease;
}
.fab-container.open .fab-menu{opacity:1;visibility:visible;transform:none}

/* ---- Notificações / Offline ---------------------------------------------------- */
.notify{
  position:fixed;top:18px;left:50%;transform:translateX(-50%);
  background:var(--success);color:#0b1426;border:1px solid rgba(255,255,255,.08);
  border-radius:10px;padding:10px 14px;font-weight:700;font-size:14px;box-shadow:var(--shadow-2);z-index:1003;
  display:flex;align-items:center;gap:8px;
}
.notify.error{background:var(--danger);color:#1a0f0f}
#offline-banner{display:none}

/* ---- Contêiner neutro ---------------------------------------------------------- */
.container-neon{
  background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);
  padding:20px;position:relative;box-shadow:var(--shadow-1);
}

/* ---- Galeria de mídias --------------------------------------------------------- */
.media-filters{display:flex;gap:12px;margin:12px 0 16px}
.media-filters select{
  padding:8px 12px;border-radius:var(--radius-sm);background:var(--panel);color:var(--ink);
  border:1px solid var(--line);font-size:14px;cursor:pointer;
}
.media-filters select:focus{outline:none;border-color:var(--accent)}

.media-gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-top:8px}
.media-card{
  background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);
  overflow:hidden;display:flex;flex-direction:column;transition:.2s ease;box-shadow:var(--shadow-1);
}
.media-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-2)}
.media-thumb{width:100%;height:140px;background:#18243d;display:grid;place-items:center;overflow:hidden}
.media-thumb img,.media-thumb video{width:100%;height:100%;object-fit:cover}
.media-info{padding:12px;display:flex;flex-direction:column;gap:6px}
.media-title{font-size:14px;font-weight:700;color:var(--ink)}
.media-meta{display:flex;align-items:center;justify-content:space-between;font-size:12px;color:var(--ink-dim)}

.status-dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:6px}
.status-active{background:var(--success)}
.status-offline{background:var(--danger)}

.media-actions{display:flex;gap:8px;margin-top:8px}
.media-actions button{
  flex:1;padding:6px;border:1px solid var(--line);background:transparent;border-radius:var(--radius-sm);
  cursor:pointer;font-size:13px;font-weight:700;transition:.18s;color:var(--ink);
}
.btn-rename{border-color:var(--accent-line);color:var(--accent)}
.btn-rename:hover{border-color:var(--accent);background:#17223a}
.btn-delete{border-color:rgba(239,106,106,.35);color:var(--danger)}
.btn-delete:hover{background:rgba(239,106,106,.08)}

.media-rename{display:none;margin-top:6px;gap:6px}
.media-card.renaming .media-rename{display:flex}
.media-card.renaming .media-title{display:none}
.media-rename input{
  flex:1;background:var(--bg-soft);border:1px solid var(--line);color:var(--ink);
  border-radius:var(--radius-sm);padding:6px 8px;
}
.media-rename .save-rename{background:var(--accent);color:#0b1426;border:none;border-radius:var(--radius-sm);padding:6px 10px;font-weight:800}
.media-rename .cancel-rename{background:transparent;color:var(--accent);border:1px solid var(--accent-line);border-radius:var(--radius-sm);padding:6px 10px;font-weight:700}

/* ---- Cards de Download --------------------------------------------------------- */
.app-downloads{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;align-items:start;padding:10px 0}
.card{
  display:flex;flex-direction:column;align-items:center;width:100%;padding:16px;border-radius:var(--radius);
  background:var(--panel);border:1px solid var(--line);box-shadow:var(--shadow-1);transition:.2s ease;
}
.card:hover{transform:translateY(-2px);box-shadow:var(--shadow-2)}
.image_container{width:100%;height:104px;background:#e9edf5;border-radius:8px;display:grid;place-items:center;overflow:hidden}
.image_container .image{width:64px;height:auto;opacity:.9}
.title{font-size:1.05rem;font-weight:800;color:var(--ink);text-align:center;margin-top:10px}
.size{color:var(--ink-dim);text-align:center;font-size:.85rem;margin:8px 0}
.download-button{
  display:flex;align-items:center;justify-content:center;width:100%;height:40px;border-radius:8px;
  border:1px solid var(--accent-line);background:#23324f;color:#f4f7fb;cursor:pointer;transition:.18s;
}
.download-button:hover{border-color:var(--accent);background:#2a3a5c}

/* ---- Indicador de rede --------------------------------------------------------- */
.net-indicator{
  position:absolute;top:10px;right:16px;width:28px;height:28px;display:grid;place-items:center;
  border-radius:999px;border:1px solid var(--accent-line);background:var(--panel);box-shadow:var(--shadow-1);z-index:1001;
}
.net-indicator .wifi-on,.net-indicator .wifi-off{display:none}
.net-indicator.online .wifi-on{display:block;color:var(--success)}
.net-indicator.offline .wifi-off{display:block;color:var(--danger)}
#connection-status{display:none !important}

/* ---- Toasts -------------------------------------------------------------------- */
#toast-container{
  position:fixed;top:16px;right:16px;display:flex;flex-direction:column;gap:8px;width:280px;z-index:1100;pointer-events:none;
}
.toast-card{
  pointer-events:auto;display:flex;align-items:center;justify-content:space-between;min-height:48px;padding:8px 10px;border-radius:10px;
  background:#1a2337;border:1px solid var(--line);color:var(--ink);box-shadow:var(--shadow-1);animation:toastIn .18s ease-out;
}
.toast-left{display:flex;align-items:center;gap:8px}
.toast-icon{width:28px;height:28px;border-radius:8px;display:grid;place-items:center;background:rgba(255,255,255,.05)}
.toast-text{display:flex;flex-direction:column;line-height:1.2}
.toast-title{font-size:13px}
.toast-desc{color:var(--ink-dim);font-size:12px}
.toast-close{border:0;background:transparent;color:#a0a7bd;cursor:pointer;border-radius:6px;padding:4px}
.toast-close:hover{background:rgba(255,255,255,.06)}
.toast-success{border-color:rgba(72,197,138,.6)}
.toast-error{border-color:rgba(239,106,106,.7)}
.toast-info{border-color:var(--accent-line)}
@keyframes toastIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:none}}

/* ---- Dropzone / Abas ----------------------------------------------------------- */
.dz-container{
  display:flex;flex-direction:column;gap:8px;width:100%;max-width:520px;margin:8px auto 14px;
  background:rgba(127,178,255,.05);border-radius:var(--radius);border:1px dashed var(--accent-line);padding:10px;
}
.dz-header{
  border:2px dashed var(--accent-line);border-radius:var(--radius);
  display:flex;align-items:center;justify-content:center;flex-direction:column;color:var(--ink);text-align:center;min-height:140px;
}
.dz-header svg{height:84px;width:auto;opacity:.9}
.dz-header p{margin-top:10px;line-height:1.2}
.dz-header small{color:var(--ink-dim)}
.dz-footer{
  background:rgba(127,178,255,.06);width:100%;height:44px;padding:8px;border-radius:var(--radius);cursor:pointer;
  display:flex;align-items:center;justify-content:flex-end;gap:8px;color:var(--ink);border:none;
}
.dz-footer p{flex:1;text-align:center;color:var(--ink-muted)}
#dz-file{display:none}
.dz-preview-wrap{margin-top:10px}
.dz-list{list-style:none;margin-top:8px;padding:0;color:var(--ink-dim);font-size:13px}
.dz-list li{padding:4px 0;border-bottom:1px dashed rgba(255,255,255,.08)}

.upload-tabs{display:flex;gap:8px;margin:6px 0 12px}
.tab-btn{
  background:var(--panel);color:var(--ink-muted);border:1px solid var(--line);
  padding:8px 12px;border-radius:999px;cursor:pointer;transition:.18s;
}
.tab-btn.active{color:var(--accent);border-color:var(--accent)}
.hidden{display:none !important}

/* Playlist toggle */
.playlist-toggle{display:flex;align-items:center;gap:10px;margin:8px 0 10px}
.switch{
  position:relative;width:46px;height:26px;background:#18243d;border:1px solid var(--line);
  border-radius:999px;cursor:pointer;transition:.18s;
}
.switch::after{
  content:"";position:absolute;top:3px;left:3px;width:20px;height:20px;background:var(--accent);border-radius:50%;transition:.18s;
}
.switch.active{background:#203251;border-color:var(--accent)}
.switch.active::after{left:23px}

/* ---- Responsivo --------------------------------------------------------------- */
@media (max-width:900px){
  .sidebar-modern{width:88px}
  .pill span{display:none}
  .pill{justify-content:center}
}
@media (max-width:768px){
  .tvs-layout{flex-direction:column}
  .floor-list{width:100%}
  .modal .modal-content{width:95vw;max-height:88vh}
}

/* ====== Ajustes finos: Enviar Mídia / Dropzone ====== */

/* Caixa geral do dropzone dentro do modal */
#upload-media-modal .dz-container{
  background: rgba(127,178,255,.04);
  border: 1px dashed var(--accent-line);
  padding: 12px;
  gap: 10px;
}

/* Área “arraste aqui” – ícone e espaçamento */
#upload-media-modal .dz-header{
  min-height: 150px;
  border: 2px dashed var(--accent-line);
  color: var(--ink);
}
#upload-media-modal .dz-header svg{
  height: 64px;           /* antes estava grande demais */
  width: auto;
  opacity: .9;
}
#upload-media-modal .dz-header p{
  margin-top: 10px;
  text-align: center;
  line-height: 1.25;
}

/* Barra/label inferior (nome do arquivo) */
#upload-media-modal .dz-footer{
  height: 44px;
  padding: 8px 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(127,178,255,.06);
  border-radius: var(--radius);
}

/* Limita todos os SVGs da barra inferior */
#upload-media-modal .dz-footer svg{
  height: 20px;          /* <— tamanho fixo e discreto */
  width: 20px;
  flex: 0 0 20px;
  opacity: .8;
}

/* O primeiro ícone (documento) pode ser um pouco maior que o “lixo” */
#upload-media-modal .dz-footer svg:first-child{
  height: 22px;
  width: 22px;
  opacity: .9;
}

/* Nome do arquivo centralizado e sem quebrar tudo */
#upload-media-modal .dz-footer p{
  flex: 1;
  margin: 0;
  text-align: center;
  color: var(--ink-muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Evita qualquer SVG “estourar” por engano dentro do modal */
#upload-media-modal svg{
  max-width: 100%;
}

/* Lista de arquivos (quando playlist on) */
#upload-media-modal .dz-list{
  font-size: 13px;
  color: var(--ink-dim);
}
#upload-media-modal .dz-list li{
  padding: 4px 0;
  border-bottom: 1px dashed rgba(255,255,255,.06);
}

/* Botão primário do modal mais legível sobre o fundo */
#upload-media-modal .btn{
  margin-top: 12px;
}

/* ====================== /css/Painel.css (refatorado) ====================== */
