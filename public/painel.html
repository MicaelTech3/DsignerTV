<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D`signer - Painel</title>
  <link rel="stylesheet" href="css/Painel.css"/>
  <link rel="shortcut icon" href="imagens/favicon.png" type="image/x-icon">
</head>
<body>
  <!-- Indicador de rede -->
  <div id="net-indicator" class="net-indicator" aria-live="polite" aria-label="Conex√£o">
    <svg class="wifi-on" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
      <path d="M15.384 6.115a.485.485 0 0 0-.047-.736A12.444 12.444 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.716 2.164.205.148.49.13.668-.049z"></path>
      <path d="M13.229 8.271a.482.482 0 0 0-.063-.745A9.455 9.455 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.576 1.336c.206.132.48.108.653-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.473 6.473 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.407.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.61-.091l.016-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .707 0l.707-.707z"></path>
    </svg>
    <svg class="wifi-off" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
      <path d="M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 3.51-1.27L8 6zm2.596 1.404.785-.785c.63.24 1.227.545 1.785.907a.482.482 0 0 1 .063.745.525.525 0 0 1-.652.065 8.462 8.462 0 0 0-1.98-.932zM8 10l.933-.933a6.455 6.455 0 0 1 2.013.637c.285.145.326.524.1.75l-.015.015a.532.532 0 0 1-.611.09A5.478 5.478 0 0 0 8 10zm4.905-4.905.747-.747c.59.3 1.153.645 1.685 1.03a.485.485 0 0 1 .047.737.518.518 0 0 1-.668.05 11.493 11.493 0 0 0-1.811-1.07z"></path>
    </svg>
  </div>

  <div class="dashboard">
    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="brand">D`Signer</div>
        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Alternar menu">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" fill="currentColor"/>
          </svg>
        </button>
      </div>

      <nav class="sidebar-nav" aria-label="Navega√ß√£o principal">
        <button class="nav-item active" data-section="tvs-section" title="Dashboard" type="button">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M4 13h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1zm-1 7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v4zm10 0a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v7zm1-10h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1z"/>
          </svg>
          <span>Dashboard</span>
        </button>

        <button class="nav-item" data-section="midias-section" title="M√≠dias" type="button">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"/>
          </svg>
          <span>My Cloud</span>
        </button>

        <button class="nav-item" data-section="app-section" title="Em breve" type="button" disabled>
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          <span>App <small style="opacity:0.6;font-size:0.75em;">(em breve)</small></span>
        </button>

        <button class="nav-item" data-section="perfil-section" title="Perfil" type="button">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"/>
          </svg>
          <span>Perfil</span>
        </button>

        <button class="nav-item" data-section="support-section" title="Suporte" type="button">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M11.953 2C6.465 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.493 2 11.953 2zM12 20c-4.411 0-8-3.589-8-8s3.567-8 7.953-8C16.391 4 20 7.589 20 12s-3.589 8-8 8z"></path>
            <path d="M11 7h2v7h-2zm0 8h2v2h-2z"></path>
          </svg>
          <span>Suporte</span>
        </button>

        <button class="nav-item nav-item-external" id="pill-dskey" title="dskey (site)" type="button">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
            <path d="M12 16c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm0-6c1.084 0 2 .916 2 2s-.916 2-2 2-2-.916-2-2 .916-2 2-2z"/>
            <path d="m2.845 16.136 1 1.73c.531.917 1.809 1.261 2.73.73l.529-.306A8.1 8.1 0 0 0 9 19.402V20c0 1.103.897 2 2 2h2c1.103 0 2-.897 2-2v-.598a8.132 8.132 0 0 0 1.896-1.111l.529.306c.923.53 2.198.188 2.731-.731l.999-1.729a2.001 2.001 0 0 0-.731-2.732l-.505-.292a7.718 7.718 0 0 0 0-2.224l.505-.292a2.002 2.002 0 0 0 .731-2.732l-.999-1.729c-.531-.92-1.808-1.265-2.731-.732l-.529.306A8.1 8.1 0 0 0 15 4.598V4c0-1.103-.897-2-2-2h-2c-1.103 0-2 .897-2 2v.598a8.132 8.132 0 0 0-1.896 1.111l-.529-.306c-.924-.531-2.2-.187-2.731.732l-.999 1.729a2.001 2.001 0 0 0 .731 2.732l.505.292a7.683 7.683 0 0 0 0 2.223l-.505.292a2.003 2.003 0 0 0-.731 2.733z"/>
          </svg>
          <span>dskey</span>
        </button>
      </nav>

      <button id="logout-link" class="logout-btn" title="Sair" type="button">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
        </svg>
        <span>Sair</span>
      </button>
    </aside>

    <!-- Overlay para fechar sidebar no mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- MAIN -->
    <main class="main-content">
      <header class="topbar">
        <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Abrir menu">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" fill="currentColor"/>
          </svg>
        </button>
        <h2 id="section-title" class="section-title">Dashboard</h2>
      </header>

      <!-- ===== DASHBOARD ===== -->
      <section id="tvs-section" class="content-section active" aria-labelledby="section-title">
        <div class="tvs-layout">
          <div class="floor-list">
            <button class="select-categories-btn" style="display:none;" type="button">Gerenciar Grupos</button>
          </div>
          <div class="content-grid">
            <div class="content-grid-header">
              <h3>Conte√∫do</h3>
              <div class="grid-actions" aria-label="A√ß√µes"></div>
            </div>
            <div class="grid" id="tv-grid"></div>
            <button class="add-tv-btn" style="display:none;" type="button">Adicionar TV</button>
          </div>
        </div>
      </section>

      <!-- ===== M√çDIAS ===== -->
      <section id="midias-section" class="content-section" aria-labelledby="title-medias">
        <div class="container-neon">
          <h2 id="title-medias">Minhas M√≠dias</h2>
          <div class="media-filters">
            <select id="filter-tv" aria-label="Filtrar por TV">
              <option value="">Todas as TVs</option>
            </select>
            <select id="filter-status" aria-label="Filtrar por status">
              <option value="">Todos status</option>
              <option value="active">Ativas</option>
              <option value="inactive">Inativas</option>
            </select>
          </div>
          <div id="media-list" class="media-gallery" aria-live="polite"></div>
          <div id="media-empty" class="no-items" style="display:none;">Nenhuma m√≠dia enviada.</div>
        </div>
      </section>

      <!-- ===== APP ===== -->
      <section id="app-section" class="content-section">
        <h2 style="color:var(--accent); text-align:center; margin-bottom:16px;">Downloads do Aplicativo</h2>
        <div class="app-wrapper">
          <div class="app-downloads">
            <div class="card">
              <div class="image_container">
                <img src="imagens/androibaixar.svg" alt="Android / TV" class="image">
              </div>
              <div class="title"><span>APK</span></div>
              <div class="size"><span>CLIQUE PARA BAIXAR</span></div>
              <div class="action">
                <a href="../apps/dskey.apk" class="download-button" target="_blank" rel="noopener">
                  <span class="button-text">DOWNLOAD</span>
                </a>
              </div>
            </div>

            <div class="card">
              <div class="image_container">
                <img src="imagens/winbaixar.svg" alt="Windows" class="image">
              </div>
              <div class="title"><span>WINDOWS</span></div>
              <div class="size"><span>CLIQUE PARA BAIXAR</span></div>
              <div class="action">
                <a href="https://seulink2.com" class="download-button" target="_blank" rel="noopener">
                  <span class="button-text">DOWNLOAD</span>
                </a>
              </div>
            </div>

            <div class="card">
              <div class="image_container">
                <img src="imagens/linux.png" alt="Linux" class="image">
              </div>
              <div class="title"><span>LINUX</span></div>
              <div class="size"><span>CLIQUE PARA BAIXAR</span></div>
              <div class="action">
                <a href="https://seulink3.com" class="download-button" target="_blank" rel="noopener">
                  <span class="button-text">DOWNLOAD</span>
                </a>
              </div>
            </div>
          </div>

          <aside class="app-guide container-neon">
            <header class="guide-head">
              <h3>Instalar o D`Signer TV</h3>
              <p class="guide-sub">Passo a passo r√°pido + comandos ADB.</p>
              <a class="btn btn-primary guide-download" href="software/software.exe" target="_blank" rel="noopener">
                Baixar Software para PC
              </a>
            </header>
            <figure class="guide-hero">
              <img src="software/Captura de tela 2025-10-10 085725.png" alt="Ilustra√ß√£o instala√ß√£o" />
              <figcaption>imagem real do software.</figcaption>
            </figure>
            <ol class="steps">
              <li><strong>Baixe</strong> o instalador para PC e o <strong>APK</strong> acima.</li>
              <li>Na TV Box, ative <em>Op√ß√µes do desenvolvedor</em> ‚Üí <em>Depura√ß√£o USB/ADB</em>.</li>
              <li>Conecte a TV Box ao PC por USB (ou ADB over Wi-Fi).</li>
              <li>Abra o software <strong>DsignerTV</strong> no PC e clique <em>"INSTALAR ADB"</em> (se necess√°rio).</li>
              <li>Use <em>"ATIVAR Dsigner"</em> para instalar o APK e definir como launcher.</li>
            </ol>
            <div class="guide-screens">
              <img src="imagens/placeholder-1.png" alt="Tela 1" />
              <img src="imagens/placeholder-2.png" alt="Tela 2" />
            </div>
            <details class="faq">
              <summary>Instalar via ADB (manual, opcional)</summary>
              <pre class="code">adb devices
adb install -t -r com.tv.play.apk
adb shell cmd package set-home-activity com.tv.play/.MainActivity</pre>
            </details>
            <details class="faq">
              <summary>Restaurar launcher original</summary>
              <pre class="code">adb shell pm enable com.google.android.tvlauncher
adb shell pm disable-user --user 0 com.tv.play</pre>
            </details>
            <p class="note">D√∫vidas? Use a aba <strong>Suporte</strong> para falar com a gente.</p>
          </aside>
        </div>
      </section>

      <!-- ===== PERFIL ===== -->
      <section id="perfil-section" class="content-section" aria-labelledby="title-perfil">
        <div class="profile-content container-neon">
          <h2 id="title-perfil">Meu Perfil</h2>
          <p><strong>Email:</strong> <span id="user-email"></span></p>
        </div>
      </section>

      <!-- ===== SUPORTE ===== -->
      <section id="support-section" class="content-section" aria-labelledby="title-suporte">
        <div class="support-content container-neon">
          <h2 id="title-suporte">Suporte T√©cnico</h2>
          <form id="support-form">
            <div class="form-group">
              <label for="support-email">Email:</label>
              <input type="email" id="support-email" name="email" required/>
            </div>
            <div class="form-group">
              <label for="support-empresa">Nome da Empresa:</label>
              <input type="text" id="support-empresa" name="empresa" required/>
            </div>
            <div class="form-group">
              <label for="support-chamado">Mensagem:</label>
              <textarea id="support-chamado" name="chamado" required></textarea>
            </div>
            <button type="submit" class="btn">Enviar Chamado</button>
            <div id="support-message" class="message" aria-live="polite"></div>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- Modais -->
  <div class="modal" id="category-modal" role="dialog" aria-modal="true" aria-labelledby="category-title">
    <div class="modal-content container-neon">
      <button class="close-btn" aria-label="Fechar">√ó</button>
      <h2 id="category-title">Gerenciar Grupos</h2>
      <div class="category-form">
        <h3>Adicionar Novo Grupo</h3>
        <div class="form-group">
          <label for="new-category-name">Nome do Grupo:</label>
          <input type="text" id="new-category-name" placeholder="Ex.: Grupo A"/>
        </div>
        <button id="add-category-btn" class="btn" type="button">Adicionar Grupo</button>
      </div>
    </div>
  </div>

  <div class="modal" id="edit-floor-modal" role="dialog" aria-modal="true" aria-labelledby="edit-floor-title">
    <div class="modal-content container-neon">
      <button class="close-btn" aria-label="Fechar">√ó</button>
      <h2 id="edit-floor-title">Editar Grupo</h2>
      <div class="form-group">
        <label for="edit-floor-name">Nome do Grupo:</label>
        <input type="text" id="edit-floor-name"/>
      </div>
      <button id="save-floor-btn" class="btn" type="button">Salvar</button>
    </div>
  </div>

  <div class="modal" id="add-tv-modal" role="dialog" aria-modal="true" aria-labelledby="add-tv-title">
    <div class="modal-content container-neon">
      <button class="close-btn" aria-label="Fechar">√ó</button>
      <h2 id="add-tv-title">Adicionar TV</h2>
      <div class="form-group">
        <label for="tv-name">Nome da TV:</label>
        <input type="text" id="tv-name" placeholder="Ex.: TV Sala 1"/>
      </div>
      <div class="form-group">
        <label for="tv-category">Grupo:</label>
        <select id="tv-category"></select>
      </div>
      <div class="form-group">
        <label for="tv-activation-key">Chave de Ativa√ß√£o:</label>
        <input type="text" id="tv-activation-key" placeholder="Cole a chave do Dskey aqui" required/>
      </div>
      <button id="add-tv-submit-btn" class="btn" type="button">Adicionar TV</button>
    </div>
  </div>

  <div class="modal" id="view-media-modal" role="dialog" aria-modal="true" aria-labelledby="view-media-title">
    <div class="modal-content container-neon">
      <button class="close-btn" aria-label="Fechar">√ó</button>
      <h2 id="view-media-title">M√≠dia da TV</h2>
      <div id="media-container"></div>
    </div>
  </div>

  <!-- ADICIONE ESTE MODAL AP√ìS O view-media-modal NO SEU HTML -->

<!-- MODAL DE INFORMA√á√ïES DA TV -->
<div class="modal" id="tv-info-modal" role="dialog" aria-modal="true" aria-labelledby="tv-info-title">
  <div class="modal-content container-neon" style="max-width: 500px;">
    <button class="close-btn" aria-label="Fechar">√ó</button>
    <h2 id="tv-info-title">Informa√ß√µes da TV</h2>
    
    <div class="tv-info-card">
      <div class="info-row">
        <div class="info-label">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/>
          </svg>
          <span>Nome da TV:</span>
        </div>
        <div class="info-value" id="info-tv-name">-</div>
      </div>

      <div class="info-row">
        <div class="info-label">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path d="M12 2l-5.5 9h11z"/>
            <circle cx="17.5" cy="17.5" r="4.5"/>
          </svg>
          <span>Grupo:</span>
        </div>
        <div class="info-value" id="info-tv-category">-</div>
      </div>

      <div class="info-row">
        <div class="info-label">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 1v6m0 6v6M23 12h-6m-6 0H5"/>
          </svg>
          <span>Status:</span>
        </div>
        <div class="info-value">
          <span id="info-tv-status" class="status-badge on">ON</span>
        </div>
      </div>

      <div class="info-row info-row-editable">
        <div class="info-label">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
          </svg>
          <span>Chave de Ativa√ß√£o:</span>
        </div>
        <div class="info-value info-key-container">
          <input type="text" id="info-tv-key" class="info-key-input" readonly />
          <button class="btn-icon edit-key-btn" title="Editar chave">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 20h9M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="info-actions" style="display: none;">
        <button class="btn save-key-btn">üíæ Salvar</button>
        <button class="btn-secondary cancel-key-btn">Cancelar</button>
      </div>
    </div>
  </div>
</div>

  <!-- MODAL DE ENVIO -->
  <div class="modal" id="upload-media-modal" role="dialog" aria-modal="true" aria-labelledby="upload-title">
    <div class="modal-content container-neon">
      <button class="close-btn" aria-label="Fechar">√ó</button>
      <h2 id="upload-title">Enviar M√≠dia</h2>

      <div class="upload-tabs" role="tablist" aria-label="Modo de envio">
        <button class="tab-btn active" id="tab-file" data-mode="file" type="button" role="tab" aria-selected="true">Arquivo</button>
        <button class="tab-btn" id="tab-link" data-mode="link" type="button" role="tab" aria-selected="false">Link URL</button>
        <button class="tab-btn" id="tab-icloud" data-mode="icloud" type="button" role="tab" aria-selected="false">iCloud</button>
      </div>

      <div class="playlist-toggle">
        <span style="min-width:82px;">Playlist:</span>
        <div id="playlist-switch" class="switch" role="switch" aria-checked="false" tabindex="0"></div>
        <small class="link-hint">Ative para enviar v√°rias m√≠dias por vez</small>
      </div>

      <div id="file-mode">
        <div class="dz-container" id="dz">
          <div class="dz-header" id="dz-header">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M7 10V9C7 6.24 9.24 4 12 4s5 2.24 5 5v1c2.21 0 4 1.79 4 4 0 1.48-.8 2.81-2 3.5M7 10C4.79 10 3 11.79 3 14c0 1.48.8 2.81 2 3.5M7 10c.43 0 .85.07 1.24.2M12 12v9m0-9l3 3m-3-3l-3 3" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p>Arraste arquivos aqui<br><small>(imagem, GIF, ou v√≠deo MP4)</small></p>
          </div>
          <label for="dz-file" class="dz-footer" id="dz-footer">
            <svg viewBox="0 0 32 32" aria-hidden="true"><path d="M15.331 6H8.5v20h15V14.154h-8.169z"></path><path d="M18.153 6h-.009v5.342H23.5v-.002z"></path></svg>
            <p id="dz-file-label">Nenhum arquivo selecionado</p>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M5.166 10.153C5.076 8.992 5.995 8 7.16 8h9.68c1.165 0 2.084.992 1.995 2.153l-.692 9c-.08 1.042-.948 1.847-1.993 1.847H7.852c-1.045 0-1.914-.805-1.994-1.847l-.692-9Z" stroke="currentColor" stroke-width="2" fill="none"></path>
              <path d="M19.5 5H4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
              <path d="M10 3c0-.552.448-1 1-1h2a1 1 0 0 1 1 1v2h-4V3Z" stroke="currentColor" stroke-width="2" fill="none"></path>
            </svg>
          </label>
          <input id="dz-file" type="file" accept="image/*,video/mp4,.gif" />
        </div>
        <div class="upload-progress"><div class="progress-bar"></div></div>
        <div id="dz-preview-wrap" class="dz-preview-wrap" style="display:none;">
          <img id="dz-preview" class="media-preview" alt="Pr√©-visualiza√ß√£o" />
          <ul id="dz-list" class="dz-list"></ul>
        </div>
      </div>

      <div id="link-mode" class="hidden">
        <div class="link-fields">
          <div class="form-group">
            <label for="link-url">URL da m√≠dia:</label>
            <input type="url" id="link-url" placeholder="https://... (imagem, GIF ou v√≠deo MP4)"/>
            <div class="link-hint">Use links diretos (acesso p√∫blico).</div>
          </div>
          <div class="link-inline">
            <div class="form-group">
              <label for="link-type">Tipo:</label>
              <select id="link-type">
                <option value="image">Imagem</option>
                <option value="gif">GIF</option>
                <option value="video">V√≠deo (MP4)</option>
              </select>
            </div>
            <div class="form-group" id="link-duration-wrap">
              <label for="link-duration">Dura√ß√£o (s):</label>
              <input type="number" id="link-duration" min="1" value="10"/>
            </div>
          </div>
          <div class="form-group hidden" id="link-loop-wrap">
            <label><input type="checkbox" id="link-loop"/> Repetir v√≠deo (loop)</label>
          </div>
        </div>
      </div>

      <div id="icloud-mode" class="hidden" style="padding-top:8px;">
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px;">
          <input id="icloud-search" type="search" placeholder="Pesquisar por nome ou TV..." style="flex:1;padding:8px;border-radius:8px;border:1px solid #253545;background:transparent;color:inherit;">
          <button id="icloud-refresh" class="btn" type="button">Atualizar</button>
        </div>
        <div id="icloud-list" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;"></div>
        <div id="icloud-empty" class="no-items" style="display:none;margin-top:8px;">Nenhuma m√≠dia encontrada no iCloud.</div>
      </div>

      <button id="upload-media-btn" class="btn" type="button" onclick="uploadMidia()">Enviar</button>
      <div id="upload-status" class="message" aria-live="polite"></div>
    </div>
  </div>

  <!-- FAB -->
  <div class="fab-container">
    <button class="fab-main" aria-label="A√ß√µes" type="button"><span style="font-size:33px;line-height:1">+</span></button>
    <div class="fab-menu">
      <button class="select-categories-btn" type="button">Gerenciar Grupos</button>
      <button class="add-tv-btn" type="button">Adicionar TV</button>
    </div>
  </div>

  <!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

<!-- Firebase init (GLOBAL) -->
  <script src="javascript/firebase.js"></script>

  <!-- üîí Prote√ß√£o de Rota - CARREGAR ANTES DOS M√ìDULOS -->
  <script>
    // Bloquear acesso n√£o autenticado
    window.authModule.onAuthStateChanged((user) => {
      if (!user) {
        console.log('‚ùå Usu√°rio n√£o autenticado, redirecionando para login...');
        window.location.href = 'index.html';
      } else {
        console.log('‚úÖ Usu√°rio autenticado:', user.email);
      }
    });
  </script>

  <!-- App (ES Modules) -->
  <script type="module" src="javascript/main.js"></script>

  
  <!-- Sidebar Hover Enhancement -->
  <script>
    // Expandir sidebar no hover quando colapsada (apenas desktop)
    const sidebar = document.getElementById('sidebar');
    let hoverTimeout;
    
    if (window.innerWidth > 968) {
      sidebar.addEventListener('mouseenter', function() {
        if (this.classList.contains('collapsed')) {
          clearTimeout(hoverTimeout);
          this.classList.add('hover-expanded');
        }
      });
      
      sidebar.addEventListener('mouseleave', function() {
        if (this.classList.contains('collapsed')) {
          hoverTimeout = setTimeout(() => {
            this.classList.remove('hover-expanded');
          }, 300);
        }
      });
    }
  </script>
</body>
</html>