<!-- ========================== index.html ========================== -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D`signer - Painel</title>
  <link rel="stylesheet" href="css/Painel.css"/>
</head>
<body>
  <!-- Indicador de rede (topo, discreto) -->
  <div id="net-indicator" class="net-indicator" aria-label="Conectado" title="Conectado">
    <!-- Wi-Fi ON -->
    <svg class="wifi-on" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
      <path d="M15.384 6.115a.485.485 0 0 0-.047-.736A12.444 12.444 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.716 2.164.205.148.49.13.668-.049z"></path>
      <path d="M13.229 8.271a.482.482 0 0 0-.063-.745A9.455 9.455 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.576 1.336c.206.132.48.108.653-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.473 6.473 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.407.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.61-.091l.016-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .707 0l.707-.707z"></path>
    </svg>
    <!-- Wi-Fi OFF -->
    <svg class="wifi-off" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
      <path d="M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 3.51-1.27L8 6zm2.596 1.404.785-.785c.63.24 1.227.545 1.785.907a.482.482 0 0 1 .063.745.525.525 0 0 1-.652.065 8.462 8.462 0 0 0-1.98-.932zM8 10l.933-.933a6.455 6.455 0 0 1 2.013.637c.285.145.326.524.1.75l-.015.015a.532.532 0 0 1-.611.09A5.478 5.478 0 0 0 8 10zm4.905-4.905.747-.747c.59.3 1.153.645 1.685 1.03a.485.485 0 0 1 .047.737.518.518 0 0 1-.668.05 11.493 11.493 0 0 0-1.811-1.07zM9.02 11.78c.238.14.236.464.04.66l-.707.706a.5.5 0 0 1-.707 0l-.707-.707c-.195-.195-.197-.518.04-.66A1.99 1.99 0 0 1 8 11.5c.374 0 .723.102 1.021.28zm4.355-9.905a.53.53 0 0 1 .75.75l-10.75 10.75a.53.53 0 0 1-.75-.75l10.75-10.75z"></path>
    </svg>
  </div>

  <div class="dashboard">
    <!-- SIDEBAR -->
    <aside class="sidebar sidebar-modern">
      <div class="brand">D`Signer</div>

      <nav class="pills">
        <button class="pill active" data-section="tvs-section" title="Dashboard">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M4 13h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1zm-1 7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v4zm10 0a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v7zm1-10h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1z"/>
          </svg>
          <span>Dashboard</span>
        </button>

        <button class="pill" data-section="midias-section" title="Mídias">
          <svg viewBox="0 0 24 2" width="24" height="24">
            <path d="M4 4h16v14H4zM7 7l4 4 3-3 3 3v3H7z"></path>
          </svg>
          <span>Mídias</span>
        </button>

        <button class="pill" data-section="app-section" title="App">
          <img src="imagens/download.png" alt="App" width="24" height="24" />
          <span>App</span>
        </button>

        <button class="pill" data-section="perfil-section" title="Perfil">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"/>
          </svg>
          <span>Perfil</span>
        </button>

        <button class="pill" data-section="support-section" title="Suporte">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M11.953 2C6.465 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.493 2 11.953 2zM12 20c-4.411 0-8-3.589-8-8s3.567-8 7.953-8C16.391 4 20 7.589 20 12s-3.589 8-8 8z"></path>
            <path d="M11 7h2v7h-2zm0 8h2v2h-2z"></path>
          </svg>
          <span>Suporte</span>
        </button>

        <button class="pill pill-dskey" id="pill-dskey" title="dskey (site)">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path d="M12 16c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm0-6c1.084 0 2 .916 2 2s-.916 2-2 2-2-.916-2-2 .916-2 2-2z"/>
            <path d="m2.845 16.136 1 1.73c.531.917 1.809 1.261 2.73.73l.529-.306A8.1 8.1 0 0 0 9 19.402V20c0 1.103.897 2 2 2h2c1.103 0 2-.897 2-2v-.598a8.132 8.132 0 0 0 1.896-1.111l.529.306c.923.53 2.198.188 2.731-.731l.999-1.729a2.001 2.001 0 0 0-.731-2.732l-.505-.292a7.718 7.718 0 0 0 0-2.224l.505-.292a2.002 2.002 0 0 0 .731-2.732l-.999-1.729c-.531-.92-1.808-1.265-2.731-.732l-.529.306A8.1 8.1 0 0 0 15 4.598V4c0-1.103-.897-2-2-2h-2c-1.103 0-2 .897-2 2v.598a8.132 8.132 0 0 0-1.896 1.111l-.529-.306c-.924-.531-2.2-.187-2.731.732l-.999 1.729a2.001 2.001 0 0 0 .731 2.732l.505.292a7.683 7.683 0 0 0 0 2.223l-.505.292a2.003 2.003 0 0 0-.731 2.733z"/>
          </svg>
          <span>dskey</span>
        </button>
      </nav>

      <button id="logout-link" class="logout-btn" title="Sair">Sair</button>
    </aside>

    <!-- MAIN -->
    <main class="main-content">
      <header class="topbar">
        <h2 id="section-title">Dashboard</h2>
      </header>

      <!-- ===== DASHBOARD ===== -->
      <section id="tvs-section" class="content-section active">
        <div class="tvs-layout">
          <div class="floor-list">
            <button class="select-categories-btn" style="display:none;">Gerenciar Andares</button>
          </div>
          <div class="content-grid">
            <div class="content-grid-header">
              <h3>Conteúdo</h3>
              <div class="grid-actions"></div>
            </div>
            <div class="grid" id="tv-grid"></div>
            <button class="add-tv-btn" style="display:none;">Adicionar TV</button>
          </div>
        </div>
      </section>

      <!-- ===== MÍDIAS (nova aba) ===== -->
      <section id="midias-section" class="content-section">
        <div class="container-neon">
          <h2 style="margin-bottom:12px;color:#00ff88">Minhas Mídias</h2>

          <!-- filtros simples (opcional) -->
          <div class="media-filters">
            <select id="filter-tv">
              <option value="">Todas as TVs</option>
            </select>
            <select id="filter-status">
              <option value="">Todos status</option>
              <option value="active">Ativas</option>
              <option value="inactive">Inativas</option>
            </select>
          </div>

          <!-- galeria/cards -->
          <div id="media-list" class="media-gallery"></div>
          <div id="media-empty" class="no-items" style="display:none;">Nenhuma mídia enviada.</div>
        </div>
      </section>

      <!-- ===== APP (downloads) ===== -->
      <section id="app-section" class="content-section">
        <h2 style="color:#00ff88; text-align:center; margin-bottom:20px;">Downloads do Aplicativo</h2>

        <div class="app-downloads">
          <!-- Card 1 - Android/TV -->
          <div class="card">
            <div class="image_container">
              <img src="imagens/androibaixar.svg" alt="Android / TV" class="image">
            </div>
            <div class="title"><span>DSKEY TV</span></div>
            <div class="size"><span>CLIQUE PARA BAIXAR</span></div>
            <div class="action">
              <a href="https://seulink1.com" class="download-button" target="_blank" rel="noopener">
                <span class="button-text">DOWNLOAD</span>
                <span class="button-icon">
                  <svg viewBox="0 0 35 35" class="download-svg" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z"/>
                    <path d="M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z"/>
                    <path d="M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,0,1,2.5,0v8.738a.815.815,0,0,0,.814.814H31.436a.815.815,0,0,0,.814-.814V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z"/>
                  </svg>
                </span>
              </a>
            </div>
          </div>

          <!-- Card 2 - Windows -->
          <div class="card">
            <div class="image_container">
              <img src="imagens/winbaixar.svg" alt="Windows" class="image">
            </div>
            <div class="title"><span>DSKEY PC</span></div>
            <div class="size"><span>CLIQUE PARA BAIXAR</span></div>
            <div class="action">
              <a href="https://seulink2.com" class="download-button" target="_blank" rel="noopener">
                <span class="button-text">DOWNLOAD</span>
                <span class="button-icon">
                  <svg viewBox="0 0 35 35" class="download-svg" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z"/>
                    <path d="M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z"/>
                    <path d="M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z"/>
                  </svg>
                </span>
              </a>
            </div>
          </div>

          <!-- Card 3 - Linux -->
          <div class="card">
            <div class="image_container">
              <img src="imagens/linux.png" alt="Linux" class="image">
            </div>
            <div class="title"><span>LINUX</span></div>
            <div class="size"><span>CLIQUE PARA BAIXAR</span></div>
            <div class="action">
              <a href="https://seulink3.com" class="download-button" target="_blank" rel="noopener">
                <span class="button-text">DOWNLOAD</span>
                <span class="button-icon">
                  <svg viewBox="0 0 35 35" class="download-svg" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z"/>
                    <path d="M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z"/>
                    <path d="M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z"/>
                  </svg>
                </span>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== PERFIL (sem mídias) ===== -->
      <section id="perfil-section" class="content-section">
        <div class="profile-content container-neon">
          <h2>Meu Perfil</h2>
          <p><strong>Email:</strong> <span id="user-email"></span></p>
        </div>
      </section>

      <!-- ===== SUPORTE ===== -->
      <section id="support-section" class="content-section">
        <div class="support-content container-neon">
          <h2>Suporte Técnico</h2>
          <form id="support-form">
            <div class="form-group">
              <label for="support-email">Email:</label>
              <input type="email" id="support-email" name="email" required/>
            </div>
            <div class="form-group">
              <label for="support-empresa">Nome da Empresa:</label>
              <input type="text" id="support-empresa" name="empresa" required/>
            </div>
            <div class="form-group">
              <label for="support-chamado">Mensagem:</label>
              <textarea id="support-chamado" name="chamado" required></textarea>
            </div>
            <button type="submit" class="btn">Enviar Chamado</button>
            <div id="support-message" class="message"></div>
          </form>
        </div>
      </section>
    </main>
  </div>

  <!-- Modais (mantidos) -->
  <div class="modal" id="category-modal">
    <div class="modal-content container-neon">
      <span class="close-btn">×</span>
      <h2>Gerenciar Andares</h2>
      <div class="category-form">
        <h3>Adicionar Novo Andar</h3>
        <div class="form-group">
          <label for="new-category-name">Nome do Andar:</label>
          <input type="text" id="new-category-name" placeholder="Ex.: Andar 3"/>
        </div>
        <button id="add-category-btn" class="btn">Adicionar Andar</button>
      </div>
    </div>
  </div>

  <div class="modal" id="edit-floor-modal">
    <div class="modal-content container-neon">
      <span class="close-btn">×</span>
      <h2>Editar Andar</h2>
      <div class="form-group">
        <label for="edit-floor-name">Nome do Andar:</label>
        <input type="text" id="edit-floor-name"/>
      </div>
      <button id="save-floor-btn" class="btn">Salvar</button>
    </div>
  </div>

  <div class="modal" id="add-tv-modal">
    <div class="modal-content container-neon">
      <span class="close-btn">×</span>
      <h2>Adicionar TV</h2>
      <div class="form-group">
        <label for="tv-name">Nome da TV:</label>
        <input type="text" id="tv-name" placeholder="Ex.: TV Sala 1"/>
      </div>
      <div class="form-group">
        <label for="tv-category">Andar:</label>
        <select id="tv-category"></select>
      </div>
      <div class="form-group">
        <label for="tv-activation-key">Chave de Ativação:</label>
        <input type="text" id="tv-activation-key" placeholder="Cole a chave do Dskey aqui" required/>
      </div>
      <button id="add-tv-submit-btn" class="btn">Adicionar TV</button>
    </div>
  </div>

  <div class="modal" id="view-media-modal">
    <div class="modal-content container-neon">
      <span class="close-btn">×</span>
      <h2>Mídia da TV</h2>
      <div id="media-container"></div>
    </div>
  </div>

  <!-- MODAL DE ENVIO: Arquivo/Link + Playlist (mantido) -->
  <div class="modal" id="upload-media-modal">
    <div class="modal-content container-neon">
      <span class="close-btn">×</span>
      <h2>Enviar Mídia</h2>

      <!-- Abas -->
      <div class="upload-tabs">
        <button class="tab-btn active" id="tab-file" data-mode="file">Arquivo</button>
        <button class="tab-btn" id="tab-link" data-mode="link">Link URL</button>
      </div>

      <!-- Toggle Playlist -->
      <div class="playlist-toggle">
        <span style="min-width:82px;">Playlist:</span>
        <div id="playlist-switch" class="switch" role="switch" aria-checked="false" tabindex="0"></div>
        <small class="link-hint">Ative para enviar várias mídias por vez</small>
      </div>

      <!-- Modo Arquivo (Dropzone) -->
      <div id="file-mode">
        <div class="dz-container" id="dz">
          <div class="dz-header" id="dz-header">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M7 10V9C7 6.24 9.24 4 12 4s5 2.24 5 5v1c2.21 0 4 1.79 4 4 0 1.48-.8 2.81-2 3.5M7 10C4.79 10 3 11.79 3 14c0 1.48.8 2.81 2 3.5M7 10c.43 0 .85.07 1.24.2M12 12v9m0-9l3 3m-3-3l-3 3" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p>Arraste arquivos aqui<br><small>(imagem, GIF, ou vídeo MP4)</small></p>
          </div>

          <label for="dz-file" class="dz-footer" id="dz-footer">
            <svg viewBox="0 0 32 32" aria-hidden="true"><path d="M15.331 6H8.5v20h15V14.154h-8.169z"></path><path d="M18.153 6h-.009v5.342H23.5v-.002z"></path></svg>
            <p id="dz-file-label">Nenhum arquivo selecionado</p>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M5.166 10.153C5.076 8.992 5.995 8 7.16 8h9.68c1.165 0 2.084.992 1.995 2.153l-.692 9c-.08 1.042-.948 1.847-1.993 1.847H7.852c-1.045 0-1.914-.805-1.994-1.847l-.692-9Z" stroke="currentColor" stroke-width="2" fill="none"></path>
              <path d="M19.5 5H4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
              <path d="M10 3c0-.552.448-1 1-1h2a1 1 0 0 1 1 1v2h-4V3Z" stroke="currentColor" stroke-width="2" fill="none"></path>
            </svg>
          </label>

          <input id="dz-file" type="file" accept="image/*,video/mp4,.gif" />
        </div>

        <div class="upload-progress"><div class="progress-bar"></div></div>
        <div id="dz-preview-wrap" class="dz-preview-wrap" style="display:none;">
          <img id="dz-preview" class="media-preview" alt="Pré-visualização" />
          <ul id="dz-list" class="dz-list"></ul>
        </div>
      </div>

      <!-- Modo Link -->
      <div id="link-mode" class="hidden">
        <div class="link-fields">
          <div class="form-group">
            <label for="link-url">URL da mídia:</label>
            <input type="url" id="link-url" placeholder="https://... (imagem, GIF ou vídeo MP4)"/>
            <div class="link-hint">Use links diretos (acesso público). Para Storage com token público também funciona.</div>
          </div>

          <div class="link-inline">
            <div class="form-group">
              <label for="link-type">Tipo:</label>
              <select id="link-type">
                <option value="image">Imagem</option>
                <option value="gif">GIF</option>
                <option value="video">Vídeo (MP4)</option>
              </select>
            </div>
            <div class="form-group" id="link-duration-wrap">
              <label for="link-duration">Duração (s):</label>
              <input type="number" id="link-duration" min="1" value="10"/>
            </div>
          </div>

          <div class="form-group hidden" id="link-loop-wrap">
            <label><input type="checkbox" id="link-loop"/> Repetir vídeo (loop)</label>
          </div>
        </div>
      </div>

      <button id="upload-media-btn" class="btn" onclick="uploadMidia()">Enviar</button>
      <div id="upload-status" class="message"></div>
    </div>
  </div>

  <!-- FAB -->
  <div class="fab-container">
    <button class="fab-main" aria-label="Ações">
      <span style="font-size:33px;line-height:1">+</span>
    </button>
    <div class="fab-menu">
      <button class="select-categories-btn">Gerenciar Andares</button>
      <button class="add-tv-btn">Adicionar TV</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/Painel.js"></script>
</body>
</html>
<!-- ======================== /index.html ======================== -->
